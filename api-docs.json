{"openapi":"3.1.0","info":{"title":"KTB Community Swagger","description":"Community REST API","version":"1.0.0"},"servers":[{"url":"http://localhost:8080","description":"Generated server url"}],"paths":{"/api/posts/{postId}":{"get":{"tags":["post-controller"],"operationId":"get","parameters":[{"name":"postId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PostResponse"}}}}}},"put":{"tags":["post-controller"],"operationId":"update","parameters":[{"name":"postId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PostUpdateRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PostResponse"}}}}}},"delete":{"tags":["post-controller"],"operationId":"delete","parameters":[{"name":"postId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK"}}}},"/api/comments/{commentId}":{"put":{"tags":["comment-controller"],"operationId":"update_1","parameters":[{"name":"commentId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommentUpdateRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/CommentResponse"}}}}}},"delete":{"tags":["comment-controller"],"operationId":"delete_1","parameters":[{"name":"commentId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK"}}}},"/api/users":{"post":{"tags":["user-controller"],"operationId":"register","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserRegistrationRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/UserResponse"}}}}}},"delete":{"tags":["user-controller"],"operationId":"delete_2","responses":{"200":{"description":"OK"}}}},"/api/posts":{"get":{"tags":["post-controller"],"operationId":"list","parameters":[{"name":"cursorId","in":"query","required":false,"schema":{"type":"integer","format":"int64"}},{"name":"size","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":10}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PostCursorResponse"}}}}}},"post":{"tags":["post-controller"],"operationId":"create","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PostCreateRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PostResponse"}}}}}}},"/api/posts/{postId}/likes":{"post":{"tags":["post-controller"],"operationId":"like","parameters":[{"name":"postId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PostLikeResponse"}}}}}},"delete":{"tags":["post-controller"],"operationId":"unlike","parameters":[{"name":"postId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PostLikeResponse"}}}}}}},"/api/posts/{postId}/comments":{"get":{"tags":["comment-controller"],"operationId":"list_1","parameters":[{"name":"postId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"page","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":0}},{"name":"size","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":10}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/CommentPageResponse"}}}}}},"post":{"tags":["comment-controller"],"operationId":"create_1","parameters":[{"name":"postId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommentCreateRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/CommentResponse"}}}}}}},"/api/files":{"post":{"tags":["file-controller"],"operationId":"upload","requestBody":{"content":{"multipart/form-data":{"schema":{"type":"object","properties":{"file":{"type":"string","format":"binary"}},"required":["file"]}}}},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/FileUploadResponse"}}}}}}},"/api/auth/login":{"post":{"tags":["auth-controller"],"operationId":"login","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/AuthResponse"}}}}}}},"/api/users/me":{"get":{"tags":["user-controller"],"operationId":"me","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/UserResponse"}}}}}}},"/api/users/check-email":{"get":{"tags":["user-controller"],"operationId":"checkEmail","parameters":[{"name":"email","in":"query","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/EmailCheckResponse"}}}}}}},"/api/auth/logout":{"delete":{"tags":["auth-controller"],"operationId":"logout","responses":{"200":{"description":"OK"}}}}},"components":{"schemas":{"PostUpdateRequest":{"type":"object","properties":{"title":{"type":"string","maxLength":150,"minLength":0},"content":{"type":"string","minLength":1},"fileIds":{"type":"array","items":{"type":"integer","format":"int64"}}},"required":["content","title"]},"PostResponse":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"title":{"type":"string"},"content":{"type":"string"},"author":{"$ref":"#/components/schemas/UserResponse"},"fileUrls":{"type":"array","items":{"type":"string"}},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"},"viewCount":{"type":"integer","format":"int64"},"likeCount":{"type":"integer","format":"int64"},"replyCount":{"type":"integer","format":"int64"}}},"UserResponse":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"email":{"type":"string"},"nickname":{"type":"string"},"profileImageUrl":{"type":"string"}}},"CommentUpdateRequest":{"type":"object","properties":{"content":{"type":"string","minLength":1}},"required":["content"]},"CommentResponse":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"content":{"type":"string"},"authorId":{"type":"integer","format":"int64"},"authorNickname":{"type":"string"},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"}}},"UserRegistrationRequest":{"type":"object","properties":{"email":{"type":"string","format":"email","minLength":1},"password":{"type":"string","maxLength":50,"minLength":8},"nickname":{"type":"string","maxLength":20,"minLength":2},"profileImageId":{"type":"integer","format":"int64"}},"required":["email","nickname","password"]},"PostCreateRequest":{"type":"object","properties":{"title":{"type":"string","maxLength":150,"minLength":0},"content":{"type":"string","minLength":1},"fileIds":{"type":"array","items":{"type":"integer","format":"int64"}}},"required":["content","title"]},"PostLikeResponse":{"type":"object","properties":{"postId":{"type":"integer","format":"int64"},"liked":{"type":"boolean"},"likeCount":{"type":"integer","format":"int64"}}},"CommentCreateRequest":{"type":"object","properties":{"content":{"type":"string","minLength":1}},"required":["content"]},"FileUploadResponse":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"fileName":{"type":"string"},"url":{"type":"string"}}},"LoginRequest":{"type":"object","properties":{"email":{"type":"string","format":"email","minLength":1},"password":{"type":"string","minLength":1}},"required":["email","password"]},"AuthResponse":{"type":"object","properties":{"userId":{"type":"integer","format":"int64"},"email":{"type":"string"},"nickname":{"type":"string"},"roles":{"type":"array","items":{"type":"string"}},"lastLoginAt":{"type":"string","format":"date-time"}}},"EmailCheckResponse":{"type":"object","properties":{"available":{"type":"boolean"}}},"PostCursorResponse":{"type":"object","properties":{"items":{"type":"array","items":{"$ref":"#/components/schemas/PostSummaryResponse"}},"nextCursor":{"type":"integer","format":"int64"},"hasNext":{"type":"boolean"}}},"PostSummaryResponse":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"title":{"type":"string"},"content":{"type":"string"},"authorId":{"type":"integer","format":"int64"},"authorNickname":{"type":"string"},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"},"viewCount":{"type":"integer","format":"int64"},"likeCount":{"type":"integer","format":"int64"},"replyCount":{"type":"integer","format":"int64"}}},"CommentPageResponse":{"type":"object","properties":{"items":{"type":"array","items":{"$ref":"#/components/schemas/CommentResponse"}},"page":{"type":"integer","format":"int32"},"size":{"type":"integer","format":"int32"},"totalElements":{"type":"integer","format":"int64"},"totalPages":{"type":"integer","format":"int32"}}}},"securitySchemes":{"basicScheme":{"type":"http","scheme":"basic"}}}}